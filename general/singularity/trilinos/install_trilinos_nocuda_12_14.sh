#!/bin/bash
SRCDIR=${TRILINOS_SRC}
ARCHDIR="/usr/local/trilinos/12.14.1"
FLAGS="-O3 -fPIC"
cmake \
-G "Unix Makefiles" \
-DCMAKE_C_COMPILER="$CC" \
-DCMAKE_CXX_COMPILER="$CXX" \
-DCMAKE_Fortran_COMPILER="$F77" \
-DCMAKE_CXX_FLAGS="-fPIC -g" \
-DCMAKE_C_FLAGS="$FLAGS" \
-DCMAKE_Fortran_FLAGS="$FLAGS" \
-DCMAKE_INSTALL_PREFIX="$ARCHDIR" \
-DCMAKE_MAKE_PROGRAM="make" \
-DTrilinos_ENABLE_OpenMP=OFF \
-DTrilinos_ENABLE_FLOAT=ON \
-DTrilinos_ENABLE_COMPLEX=ON \
-DTrilinos_ENABLE_CXX11=ON \
-DTPL_ENABLE_Pthread=ON \
-DTPL_Pthread_LIBRARIES="/usr/lib/x86_64-linux-gnu/libpthread.so" \
-DTPL_Pthread_INCLUDE_DIRS="/usr/include" \
-DTPL_DLlib_ENABLE=ON \
-DTPL_DLlib_LIBRARIES="/usr/lib/x86_64-linux-gnu/libdl.so" \
-DTPL_ENABLE_AMD=ON \
-DAMD_LIBRARY_DIRS="${SUITESPARSE_ROOT}/lib" \
-DTPL_AMD_INCLUDE_DIRS="${SUITESPARSE_ROOT}/include" \
-DTPL_ENABLE_UMFPACK=ON \
-DUMFPACK_LIBRARY_DIRS="${SUITESPARSE_ROOT}/lib" \
-DTPL_UMFPACK_INCLUDE_DIRS="${SUITESPARSE_ROOT}/include" \
-DTPL_ENABLE_MKL=ON \
-DMKL_LIBRARY_DIRS="${MKLROOT}/lib/intel64_lin" \
-DTPL_MKL_INCLUDE_DIRS="${MKLROOT}/include" \
-DTPL_ENABLE_TBB=OFF \
-DTPL_ENABLE_BLAS=ON \
-DTPL_BLAS_LIBRARIES="${MKLROOT}/lib/intel64/libmkl_rt.so" \
-DTPL_ENABLE_LAPACK=ON \
-DTPL_LAPACK_LIBRARIES="${MKLROOT}/lib/intel64/libmkl_rt.so" \
-DTPL_ENABLE_ParMETIS=ON \
-DParMETIS_INCLUDE_DIRS="${PARMETIS_ROOT}/include" \
-DParMETIS_LIBRARY_DIRS="${PARMETIS_ROOT}/lib" \
-DTPL_ENABLE_MPI=ON \
-DMPI_BASE_DIR="$MPI_ROOT" \
-DTPL_ENABLE_CUDA=OFF \
-DTPL_ENABLE_Zlib=ON \
-DZlib_LIBRARY_DIRS="/usr/lib/x86_64-linux-gnu" \
-DTPL_Zlib_INCLUDE_DIRS="/usr/include" \
-DTPL_ENABLE_Boost=ON \
-DTPL_Boost_INCLUDE_DIRS="${LIBBOOST_ROOT}/include" \
-DBoost_LIBRARY_DIRS="${LIBBOOST_ROOT}/lib" \
-DTPL_ENABLE_BoostLib=ON \
-DTPL_BoostLib_INCLUDE_DIRS="${LIBBOOST_ROOT}/include" \
-DBoostLib_LIBRARY_DIRS="${LIBBOOST_ROOT}/lib" \
-DTPL_ENABLE_HDF5=ON \
-DTPL_HDF5_INCLUDE_DIRS="${LIBHDF5_ROOT}/include" \
-DHDF5_LIBRARY_DIRS="${LIBHDF5_ROOT}/lib" \
-DTPL_ENABLE_Netcdf=ON \
-DNetcdf_LIBRARY_DIRS="${NETCDF_ROOT}/lib" \
-DTPL_Netcdf_INCLUDE_DIRS="${NETCDF_ROOT}/include/" \
-DTPL_ENABLE_Pnetcdf=ON \
-DPnetcdf_LIBRARY_DIRS="${LIBPNETCDF_ROOT}/lib" \
-DTPL_Pnetcdf_INCLUDE_DIRS="${LIBPNETCDF_ROOT}/include" \
-DTPL_ENABLE_yaml-cpp=OFF \
-DTPL_ENABLE_GLPK=OFF \
-DTPL_ENABLE_Matio=OFF \
-DTPL_ENABLE_Scotch=OFF \
-DBUILD_SHARED_LIBS=ON \
-DTrilinos_ENABLE_ALL_PACKAGES=OFF \
-DTrilinos_ENABLE_ALL_OPTIONAL_PACKAGES=OFF \
-DTrilinos_ENABLE_ALL_FORWARD_DEP_PACKAGES=OFF \
-DTrilinos_ENABLE_ThreadPool=ON \
-DTrilinos_ENABLE_KokkosCore=ON \
-DTrilinos_ENABLE_KokkosContainers=ON \
-DTrilinos_ENABLE_KokkosAlgorithms=ON \
-DTrilinos_ENABLE_TeuchosCore=ON \
-DTeuchosCore_ENABLE_KokkosCore=ON \
-DTrilinos_ENABLE_TeuchosParameterList=ON \
-DTrilinos_ENABLE_TeuchosComm=ON \
-DTrilinos_ENABLE_TeuchosNumerics=ON \
-DTrilinos_ENABLE_TeuchosRemainder=ON \
-DTrilinos_ENABLE_TeuchosParser=ON \
-DTrilinos_ENABLE_Kokkos=ON \
-DKokkos_ENABLE_SERIAL=ON \
-DKokkos_ENABLE_Cuda=OFF \
-DKokkos_ENABLE_Cuda_UVM=OFF \
-DKokkos_ENABLE_Cuda_RDC=OFF \
-DKokkos_ENABLE_Cuda_Lambda=OFF \
-DKokkos_ENABLE_Pthread=OFF \
-DKokkos_ENABLE_QTHREAD=OFF \
-DKokkos_ENABLE_CXX11=ON \
-DKokkos_ENABLE_OpenMP=OFF \
-DKokkos_ENABLE_MPI=ON \
-DKokkos_ENABLE_HWLOC=OFF \
-DTrilinos_ENABLE_TeuchosKokkosCompat=ON \
-DTrilinos_ENABLE_TeuchosKokkosComm=ON \
-DTrilinos_ENABLE_Teuchos=ON \
-DTeuchos_ENABLE_TeuchosKokkosCompat=ON \
-DTeuchos_ENABLE_TeuchosKokkosComm=ON \
-DTeuchos_ENABLE_COMPLEX=ON \
-DTrilinos_ENABLE_TpetraClassic=ON \
-DTrilinos_ENABLE_TpetraTSQR=ON \
-DTrilinos_ENABLE_TpetraCore=ON \
-DTrilinos_ENABLE_Tpetra=ON \
-DTpetra_INST_SERIAL=ON \
-DTpetra_INST_OPENMP=ON \
-DTpetra_INST_THREADS=ON \
-DTpetra_INST_Cuda=OFF \
-DTrilinos_ENABLE_RTOp=ON \
-DTrilinos_ENABLE_Sacado=ON \
-DSacado_ENABLE_KokkosCore=ON \
-DSacado_ENABLE_TeuchosKokkosComm=ON \
-DTrilinos_ENABLE_MiniTensor=ON \
-DTrilinos_ENABLE_Epetra=ON \
-DTrilinos_ENABLE_Zoltan=ON \
-DTrilinos_ENABLE_Shards=ON \
-DTrilinos_ENABLE_GlobiPack=ON \
-DTrilinos_ENABLE_Triutils=ON \
-DTrilinos_ENABLE_TrilinosSS=ON \
-DTrilinos_ENABLE_EpetraExt=ON \
-DEpetraExt_BUILD_BTF=ON \
-DEpetraExt_BUILD_EXPERIMENTAL=ON \
-DEpetraExt_BUILD_GRAPH_REORDERINGS=ON \
-DTrilinos_ENABLE_Domi=ON \
-DTrilinos_ENABLE_ThyraCore=ON \
-DTrilinos_ENABLE_ThyraEpetraAdapters=ON \
-DTrilinos_ENABLE_ThyraEpetraExtAdapters=ON \
-DTrilinos_ENABLE_ThyraTpetraAdapters=ON \
-DTrilinos_ENABLE_Thyra=ON \
-DTrilinos_ENABLE_Xpetra=ON \
-DXpetra_ENABLE_Epetra=ON \
-DXpetra_ENABLE_EpetraExt=ON \
-DXpetra_ENABLE_Tpetra=ON \
-DXpetra_ENABLE_KokkosCore=ON \
-DXpetra_ENABLE_KokkosContainers=ON \
-DXpetra_ENABLE_Thyra=ON \
-DTrilinos_ENABLE_OptiPack=ON \
-DTrilinos_ENABLE_Isorropia=ON \
-DTrilinos_ENABLE_Pliris=ON \
-DTrilinos_ENABLE_Claps=OFF \
-DTrilinos_ENABLE_AztecOO=ON \
-DTrilinos_ENABLE_Galeri=ON \
-DTrilinos_ENABLE_Amesos=ON \
-DAmesos_ENABLE_KLU=ON \
-DAmesos_ENABLE_UMFPACK=ON \
-DTrilinos_ENABLE_Pamgen=ON \
-DTrilinos_ENABLE_Zoltan2=ON \
-DZoltan2_ENABLE_AMD=OFF \
-DTrilinos_ENABLE_Ifpack=ON \
-DTrilinos_ENABLE_ML=ON \
-DTrilinos_ENABLE_Belos=ON \
-DTrilinos_ENABLE_ShyLUHTS=OFF \
-DTrilinos_ENABLE_ShyLUTacho=ON \
-DTrilinos_ENABLE_ShyLUBDDC=ON \
-DTrilinos_ENABLE_ShyLUBasker=ON \
-DTrilinos_ENABLE_ShyLUFastILU=ON \
-DTrilinos_ENABLE_ShyLUCore=ON \
-DShyLUCore_ENABLE_Tpetra=OFF \
-DShyLUCore_ENABLE_Zoltan2=OFF \
-DTrilinos_ENABLE_ShyLU=ON \
-DTrilinos_ENABLE_Amesos2=ON \
-DTrilinos_ENABLE_SEACASExodus=ON \
-DTrilinos_ENABLE_SEACASExodus_for=ON \
-DTrilinos_ENABLE_SEACASExoIIv2for32=ON \
-DTrilinos_ENABLE_SEACASNemesis=ON \
-DTrilinos_ENABLE_SEACASIoss=ON \
-DTrilinos_ENABLE_SEACASChaco=ON \
-DTrilinos_ENABLE_SEACASAprepro_lib=ON \
-DTrilinos_ENABLE_SEACASSupes=ON \
-DTrilinos_ENABLE_SEACASSuplib=ON \
-DTrilinos_ENABLE_SEACASSuplibC=ON \
-DTrilinos_ENABLE_SEACASSuplibCpp=ON \
-DTrilinos_ENABLE_SEACASSVDI=ON \
-DTrilinos_ENABLE_SEACASPLT=ON \
-DTrilinos_ENABLE_SEACASAlgebra=ON \
-DTrilinos_ENABLE_SEACASAprepro=ON \
-DTrilinos_ENABLE_SEACASBlot=ON \
-DTrilinos_ENABLE_SEACASConjoin=ON \
-DTrilinos_ENABLE_SEACASEjoin=ON \
-DTrilinos_ENABLE_SEACASEpu=ON \
-DTrilinos_ENABLE_SEACASExo2mat=OFF \
-DTrilinos_ENABLE_SEACASExodiff=ON \
-DTrilinos_ENABLE_SEACASExomatlab=ON \
-DTrilinos_ENABLE_SEACASExotxt=ON \
-DTrilinos_ENABLE_SEACASExo_format=ON \
-DTrilinos_ENABLE_SEACASEx1ex2v2=ON \
-DTrilinos_ENABLE_SEACASFastq=ON \
-DTrilinos_ENABLE_SEACASGjoin=ON \
-DTrilinos_ENABLE_SEACASGen3D=ON \
-DTrilinos_ENABLE_SEACASGenshell=ON \
-DTrilinos_ENABLE_SEACASGrepos=ON \
-DTrilinos_ENABLE_SEACASGrope=ON \
-DTrilinos_ENABLE_SEACASMapvarlib=ON \
-DTrilinos_ENABLE_SEACASMapvar=ON \
-DTrilinos_ENABLE_SEACASMapvar-kd=ON \
-DTrilinos_ENABLE_SEACASMat2exo=OFF \
-DTrilinos_ENABLE_SEACASNemslice=ON \
-DTrilinos_ENABLE_SEACASNemspread=ON \
-DTrilinos_ENABLE_SEACASNumbers=ON \
-DTrilinos_ENABLE_SEACASTxtexo=ON \
-DTrilinos_ENABLE_SEACASEx2ex1v2=ON \
-DTrilinos_ENABLE_SEACAS=ON \
-DTrilinos_ENABLE_Trioscommsplitter=OFF \
-DTrilinos_ENABLE_Triossupport=ON \
-DTrilinos_ENABLE_Triosnnti=ON \
-DTrilinos_ENABLE_Triosnssi=ON \
-DTrilinos_ENABLE_Triosprograms=ON \
-DTriosprograms_ENABLE_ParMETIS=ON \
-DTriosprograms_ENABLE_METIS=OFF \
-DTrilinos_ENABLE_Triosnetcdf-service=OFF \
-DTrilinos_ENABLE_Trios=OFF \
-DTrilinos_ENABLE_Komplex=ON \
-DTrilinos_ENABLE_Anasazi=ON \
-DTrilinos_ENABLE_Ifpack2=ON \
-DIfpack2_ENABLE_Zoltan2=ON \
-DTrilinos_ENABLE_Stratimikos=ON \
-DTrilinos_ENABLE_FEI=ON \
-DTrilinos_ENABLE_Teko=ON \
-DTrilinos_ENABLE_TriKota=ON \
-DTrilinos_ENABLE_Intrepid=ON \
-DTrilinos_ENABLE_Intrepid2=ON \
-DTrilinos_ENABLE_STKClassic=ON \
-DTrilinos_ENABLE_STKUtil=ON \
-DTrilinos_ENABLE_STKSimd=ON \
-DTrilinos_ENABLE_STKTopology=ON \
-DTrilinos_ENABLE_STKMesh=ON \
-DTrilinos_ENABLE_STKIO=ON \
-DTrilinos_ENABLE_STKSearch=ON \
-DTrilinos_ENABLE_STKSearchUtil=ON \
-DTrilinos_ENABLE_STKTransfer=ON \
-DTrilinos_ENABLE_STKExprEval=ON \
-DTrilinos_ENABLE_STK=ON \
-DTrilinos_ENABLE_Phalanx=ON \
-DTrilinos_ENABLE_NOX=ON \
-DNOX_ENABLE_LOCA=ON \
-DTrilinos_ENABLE_Moertel=ON \
-DTrilinos_ENABLE_MueLu=ON \
-DMueLu_ENABLE_Zoltan2=OFF \
-DTrilinos_ENABLE_Rythmos=ON \
-DTrilinos_ENABLE_Tempus=ON \
-DTrilinos_ENABLE_Stokhos=ON \
-DTrilinos_ENABLE_ROL=ON \
-DTrilinos_ENABLE_Piro=ON \
-DTrilinos_ENABLE_PanzerCore=ON \
-DTrilinos_ENABLE_PanzerDofMgr=ON \
-DTrilinos_ENABLE_PanzerDiscFE=ON \
-DTrilinos_ENABLE_PanzerAdapter=ON \
-DTrilinos_ENABLE_PanzerAdaptersSTK=ON \
-DTrilinos_ENABLE_Panzer=ON \
-DTrilinos_ENABLE_PyTrilinos=ON \
-DTrilinos_ENABLE_TrilinosCouplings=ON \
-DTrilinos_ENABLE_PikeBlackbox=ON \
-DTrilinos_ENABLE_PikeImplicit=ON \
-DTrilinos_ENABLE_Pike=ON \
$SRCDIR
